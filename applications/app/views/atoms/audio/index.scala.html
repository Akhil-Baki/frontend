@import utils.AtomsUtils
@import views.html.atoms.icons.playaudio
@(atom: com.gu.contentatom.thrift.Atom, data: com.gu.contentatom.thrift.atom.audio.AudioAtom)

@defining(data.trackUrl) { srcUrl: String =>

    <div class="atom atom--audio atom--audio--podcast">
        <span class="atom--audio__label">@data.kicker</span>
        <h4 class="atom--audio__headline">@atom.title.getOrElse("")</h4>
        <div class="atom--audio__body">
            <audio
            class="atom--audio__player-element"
            data-duration="@data.duration"
            src="@srcUrl"
            preload="none"
            data-media-id="@data.contentId"
            data-title="@data.kicker"
            data-component="inarticle audio"
            >
                <p>
                    Sorry your browser does not support audio - but you can download here
                    and listen @data.trackUrl
                </p>
            </audio>

            <div class="atom--audio__controls">
                <button class="atom--audio__button-playaudio atom__button atom--audio__button--rounded atom--audio__handle">
                    @views.html.atoms.icons.playaudio()
                    @views.html.atoms.icons.pauseaudio()
                </button>
            </div>

            <div class="atom--audio__time">
                <div class="atom--audio__time-played">
                    <span>00:00:00</span>
                </div>
                <div class="atom--audio__progress-bar">
                    <input type="range" min="0" max="100" step="1" value="0">
                </div>
                <div class="atom--audio__time-duration">
                    <span>@AtomsUtils.durationStr(data)</span>
                </div>
            </div>
        </div>
    </div>
}
